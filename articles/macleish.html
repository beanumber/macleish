<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Ada &amp; Archibald MacLeish Field Station Data • macleish</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Ada &amp; Archibald MacLeish Field Station Data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">macleish</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.9.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/macleish.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/beanumber/macleish/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Ada &amp; Archibald MacLeish Field Station Data</h1>
                        <h4 data-toc-skip class="author">Ben Baumer,
Rose Goueth, Wencong Li (Priscilla) and Weijia Zhang (Vega), Paul
Wetzel</h4>
            
            <h4 data-toc-skip class="date">2016-04-10</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/beanumber/macleish/blob/master/vignettes/macleish.Rmd" class="external-link"><code>vignettes/macleish.Rmd</code></a></small>
      <div class="d-none name"><code>macleish.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="macleish">MacLeish<a class="anchor" aria-label="anchor" href="#macleish"></a>
</h2>
<p>The <a href="https://github.com/beanumber/macleish" class="external-link"><code>macleish</code></a>
package for R contains weather data collected at the <a href="https://www.smith.edu/about-smith/sustainable-smith/macleish" class="external-link">Ada
&amp; Archibald MacLeish Field Station</a> in Whately, MA, as well as
spatial data detailing various features of the property. This vignette
will illustrate how these data can be used.</p>
<div class="section level3">
<h3 id="getting-started">Getting started:<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h3>
<p>To start using the package, load the <code>macleish</code> package
into your R session:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/beanumber/macleish" class="external-link">macleish</a></span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="using-the-macleish-field-station-weather-data">Using the MacLeish Field Station weather data<a class="anchor" aria-label="anchor" href="#using-the-macleish-field-station-weather-data"></a>
</h2>
<p>Two data frames are included in the package:
<code>whately_2015</code> and <code>orchard_2015</code>. These contain
weather data averaged over every ten minute period for the calendar year
2015. The <code>head</code> and <code>tail</code> will give you the
first (last) 6 readings from the whately weather station from 2015,
respectively.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">whately_2015</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 8</span></span></span>
<span><span class="co">##   when                temperature wind_speed wind_dir rel_humidity pressure</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 2015-01-01 <span style="color: #949494;">00:00:00</span>       -<span style="color: #BB0000;">9.32</span>       1.40     225.         54.6      985</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> 2015-01-01 <span style="color: #949494;">00:10:00</span>       -<span style="color: #BB0000;">9.46</span>       1.51     248.         55.4      985</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> 2015-01-01 <span style="color: #949494;">00:20:00</span>       -<span style="color: #BB0000;">9.44</span>       1.62     258.         56.2      985</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> 2015-01-01 <span style="color: #949494;">00:30:00</span>       -<span style="color: #BB0000;">9.3</span>        1.14     244.         56.4      985</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> 2015-01-01 <span style="color: #949494;">00:40:00</span>       -<span style="color: #BB0000;">9.32</span>       1.22     238.         56.9      984</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> 2015-01-01 <span style="color: #949494;">00:50:00</span>       -<span style="color: #BB0000;">9.34</span>       1.09     242.         57.2      984</span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 2 more variables: solar_radiation &lt;dbl&gt;, rainfall &lt;dbl&gt;</span></span></span></code></pre>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">whately_2015</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 8</span></span></span>
<span><span class="co">##   when                temperature wind_speed wind_dir rel_humidity pressure</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 2015-12-31 <span style="color: #949494;">23:00:00</span>        1.57       2.36     301.         92.4      984</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> 2015-12-31 <span style="color: #949494;">23:10:00</span>        1.61       1.84     294          88.7      984</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> 2015-12-31 <span style="color: #949494;">23:20:00</span>        1.61       2.37     299.         92        984</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> 2015-12-31 <span style="color: #949494;">23:30:00</span>        1.59       1.93     298.         89        984</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> 2015-12-31 <span style="color: #949494;">23:40:00</span>        1.54       2.08     301.         86.6      983</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> 2015-12-31 <span style="color: #949494;">23:50:00</span>        1.52       2.1      294.         88.6      983</span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 2 more variables: solar_radiation &lt;dbl&gt;, rainfall &lt;dbl&gt;</span></span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">orchard_2015</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">orchard_2015</span><span class="op">)</span></span></code></pre></div>
<p>To access data during wider time spans, make use of the <a href="https://github.com/beanumber/etl" class="external-link"><code>etl</code> framework</a>
to download the data and import it into a database. Please see the
documentation for <code>etl_extract</code> for further details and
examples.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/help.html" class="external-link">help</a></span><span class="op">(</span><span class="st">"etl_extract.etl_macleish"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="the-2015-macleish-weather-report">The 2015 MacLeish weather report<a class="anchor" aria-label="anchor" href="#the-2015-macleish-weather-report"></a>
</h2>
<p>This portion of the vignette is largely a re-creation of the Macleish
Field Station 2015 Weather Report.</p>
<div class="section level4">
<h4 id="introduction-to-macleish-weather-stations">Introduction to MacLeish Weather Stations<a class="anchor" aria-label="anchor" href="#introduction-to-macleish-weather-stations"></a>
</h4>
<p>Weather conditions at Smith College’s <a href="https://www.smith.edu/about-smith/sustainable-smith/macleish" class="external-link">Ada
&amp; Archibald MacLeish Field Station</a> are recorded at the
<strong>WhatelyMet</strong> weather station. This weather collection
site is located at the end of Poplar Hill Road in Whately,
Massachusetts, USA (Latitude 42 deg. 26 min. 56 sec. N Longitude 72 deg.
40 min. 50 sec. W). The meteorological instruments of WhatelyMet (except
the rain gauge) are mounted at the top of a tower 25.3 m tall, well
above the surrounding forest canopy. The tower is located on a local
ridge at an elevation 250.75m above sea level.</p>
<div class="float">
<img src="../inst/extdata/macleish_600px.jpg" alt="MacLeish Field Station"><div class="figcaption">MacLeish Field Station</div>
</div>
<p>The second weather data collection site, known as
<strong>OrchardMet</strong>, is located about 250 m north of the first
tower in an open field next to an apple orchard. Full canopy trees (~20
m tall) are within 30 m of this station. This station has a standard
instrument configuration with temperature, relative humidity, solar
radiation, and barometric pressure measured between 1.5 and 2.0 m above
the ground. Wind speed and direction are measured on a 10 m tall tower
and precipitation is measured on the ground. Ground temperature is
measured at 15 and 30 cm below the ground surface 2 m south of the
tower. The tower is located 258.1 m above sea level. Data collection at
OrchardMet began on June 27th, 2014.</p>
<p>This documentation describes the weather data collected at WhatelyMet
and OrchardMet during 2015. It provides highlights of the year’s weather
as well as general trends that were observed. We hope that you find the
documentation both interesting and useful. All data reported in this
document are available through the <a href="https://github.com/beanumber/macleish" class="external-link"><code>macleish</code></a>
package for R.</p>
</div>
<div class="section level3">
<h3 id="variables-used-in-this-documentation">Variables used in this documentation:<a class="anchor" aria-label="anchor" href="#variables-used-in-this-documentation"></a>
</h3>
<ul>
<li>
<code>when</code>: Timestamp for each measurement set</li>
<li>
<code>temperature</code>: Average temperature (°C)</li>
<li>
<code>wind_speed</code>: Average windspeed (m/s)</li>
<li>
<code>wind_dir</code>: Wind direction (degree)</li>
<li>
<code>rel_humidty</code>: Relative Humidity (mm)</li>
<li>
<code>pressure</code>: Average atmospheric pressure (mb)</li>
<li>
<code>rainfall</code>: Main Rainfall amount per day (mm)</li>
<li>
<code>solar_radiation</code>: WhatelyMet Average Solar Radiance
(W/m^2)</li>
<li>
<code>par_density</code>: OrchardMet Photosynthetically Active
Radiation (sunlight between 400 and 700 nm) in average density
(W/m^2)</li>
<li>
<code>par_total</code>: OrchardMet Photosynthetically Active
Radiation (sunlight between 400 and 700 nm) in average total over
measurement period (W/m^2)</li>
</ul>
</div>
<div class="section level3">
<h3 id="air-temperature">Air Temperature<a class="anchor" aria-label="anchor" href="#air-temperature"></a>
</h3>
<p>In this example we visualize the trend of average daily temperature
at the MacLeish Field Station over 2015.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span></span>
<span><span class="va">daily</span> <span class="op">&lt;-</span> <span class="va">whately_2015</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>the_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">when</span>, tz <span class="op">=</span> <span class="st">"EST"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">the_date</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    N <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>, avg_temp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">temperature</span><span class="op">)</span>,</span>
<span>    max_temp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">temperature</span><span class="op">)</span>,</span>
<span>    min_temp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">temperature</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">temp_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">whately_2015</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">when</span>, y <span class="op">=</span> <span class="va">temperature</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"lightgray"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">daily</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="va">the_date</span><span class="op">)</span>,</span>
<span>    y <span class="op">=</span> <span class="va">avg_temp</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Temperature (Celsius)"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va">mgcv</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">temp_plot</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="va">temp_plot</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p><img src="macleish_files/figure-html/temp-plot-1.png" class="r-plt" width="576"></p>
<p>As shown in the table below, the monthly average temperature in 2015
ranged from -6.4 °C in January to 21.6°C in July. The large difference
in recorded temperatures between the two stations in November was the
result of a loose wire that resulted in erroneous temperature readings
at the OrchardMet station (see below).</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">monthly_w</span> <span class="op">&lt;-</span> <span class="va">whately_2015</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>the_month <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/month.html" class="external-link">month</a></span><span class="op">(</span><span class="va">when</span>, label <span class="op">=</span> <span class="cn">TRUE</span>, abbr <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">the_month</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>avg_temp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">temperature</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">monthly_o</span> <span class="op">&lt;-</span> <span class="va">orchard_2015</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>the_month <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/month.html" class="external-link">month</a></span><span class="op">(</span><span class="va">when</span>, label <span class="op">=</span> <span class="cn">TRUE</span>, abbr <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">the_month</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>avg_temp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">temperature</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">monthly_w</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">inner_join</a></span><span class="op">(</span><span class="va">monthly_o</span>, by <span class="op">=</span> <span class="st">"the_month"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 12 × 3</span></span></span>
<span><span class="co">##    the_month avg_temp.x avg_temp.y</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> January       -<span style="color: #BB0000;">6.37</span>       -<span style="color: #BB0000;">6.85</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> February      -<span style="color: #BB0000;">9.26</span>       -<span style="color: #BB0000;">9.82</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> March         -<span style="color: #BB0000;">0.873</span>      -<span style="color: #BB0000;">1.44</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> April          8.04        7.60</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> May           17.4        16.7 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> June          17.7        17.0 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> July          21.6        20.6 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> August        21.4        20.6 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> September     19.3        18.3 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> October        9.79        9.19</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">11</span> November       7.28        4.19</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">12</span> December       4.95        4.54</span></span></code></pre>
<p>The highest recorded temperature at WhatelyMet was 33.08 °C on
September 8th. The lowest recorded temperature was -22.28 °C on January
8th.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">whately_2015</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">temperature</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 1 × 8</span></span></span>
<span><span class="co">##   when                temperature wind_speed wind_dir rel_humidity pressure</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 2015-09-08 <span style="color: #949494;">14:50:00</span>        33.1      0.999     238.         52.0      983</span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 2 more variables: solar_radiation &lt;dbl&gt;, rainfall &lt;dbl&gt;</span></span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">whately_2015</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">temperature</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 1 × 8</span></span></span>
<span><span class="co">##   when                temperature wind_speed wind_dir rel_humidity pressure</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 2015-01-08 <span style="color: #949494;">05:00:00</span>       -<span style="color: #BB0000;">22.3</span>      0.775     296.         55.3      989</span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 2 more variables: solar_radiation &lt;dbl&gt;, rainfall &lt;dbl&gt;</span></span></span></code></pre>
<p>The average daily temperature range recorded from both stations
(daily maximum-minimum) was 10.4 °C. The maximum daily temperature range
was 21.1 °C on May 8th at WhatelyMet.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">daily</span> <span class="op">&lt;-</span> <span class="va">daily</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>temp_range <span class="op">=</span> <span class="va">max_temp</span> <span class="op">-</span> <span class="va">min_temp</span><span class="op">)</span></span>
<span><span class="va">daily</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">temp_range</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    temp_range    </span></span>
<span><span class="co">##  Min.   : 1.150  </span></span>
<span><span class="co">##  1st Qu.: 8.656  </span></span>
<span><span class="co">##  Median :11.019  </span></span>
<span><span class="co">##  Mean   :10.851  </span></span>
<span><span class="co">##  3rd Qu.:13.177  </span></span>
<span><span class="co">##  Max.   :22.130</span></span></code></pre>
<p>The minimum daily temperature range was 2.1 °C and occurred on April
9th at WhatelyMet. However, daily temperature ranges of less than three
degrees also occurred on April 7th, February 9th, June 1st, June
28th.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">daily</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">temp_range</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 1 × 6</span></span></span>
<span><span class="co">##   the_date       N avg_temp max_temp min_temp temp_range</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 2015-05-08   144     18.5     30.2      8.1       22.1</span></span></code></pre>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">daily</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">temp_range</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 6</span></span></span>
<span><span class="co">##   the_date       N avg_temp max_temp min_temp temp_range</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 2014-12-31    30   -<span style="color: #BB0000;">9.44</span>     -<span style="color: #BB0000;">8.99</span>   -<span style="color: #BB0000;">10.1</span>        1.15</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> 2015-04-09   144    0.103     0.66    -<span style="color: #BB0000;">1.40</span>       2.06</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> 2015-06-15   144   14.0      14.8     12.6        2.18</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> 2015-12-13   144    8.57      9.6      7.32       2.27</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> 2015-06-01   144    7.73      9.35     6.53       2.82</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> 2015-06-28   144   11.7      13.3     10.2        3.04</span></span></code></pre>
<div class="section level4">
<h4 id="anomalies">Anomalies<a class="anchor" aria-label="anchor" href="#anomalies"></a>
</h4>
<p>In late November, a loose wire in the OrchardMet station resulted in
some erroneous temperature readings. We have left these readings in, but
you should exercise caution when summarizing data that includes this
time period. Imputation of these data would be a terrific exercise.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">orchard_2015</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/month.html" class="external-link">month</a></span><span class="op">(</span><span class="va">when</span><span class="op">)</span> <span class="op">==</span> <span class="fl">11</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">when</span>, y <span class="op">=</span> <span class="va">temperature</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="macleish_files/figure-html/orchard-anolomies-1.png" class="r-plt" width="576"></p>
</div>
</div>
<div class="section level3">
<h3 id="relative-humidity">Relative Humidity<a class="anchor" aria-label="anchor" href="#relative-humidity"></a>
</h3>
<p>Percent average monthly relative humidity ranged from 56.4% (March)
to 94% (December). Interestingly, WhatelyMet relative humidity values
were notably higher than OrchardMet values starting in August. It is
unclear why this pattern occurred during the last part of the year.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">monthly_w</span> <span class="op">&lt;-</span> <span class="va">whately_2015</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>the_month <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/month.html" class="external-link">month</a></span><span class="op">(</span><span class="va">when</span>, label <span class="op">=</span> <span class="cn">TRUE</span>, abbr <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">the_month</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>avg_humidity_w <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">rel_humidity</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">monthly_o</span> <span class="op">&lt;-</span> <span class="va">orchard_2015</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>the_month <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/month.html" class="external-link">month</a></span><span class="op">(</span><span class="va">when</span>, label <span class="op">=</span> <span class="cn">TRUE</span>, abbr <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">the_month</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>avg_humidity_o <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">rel_humidity</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">monthly_w</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">inner_join</a></span><span class="op">(</span><span class="va">monthly_o</span>, by <span class="op">=</span> <span class="st">"the_month"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 12 × 3</span></span></span>
<span><span class="co">##    the_month avg_humidity_w avg_humidity_o</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> January             64.6           66.5</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> February            61.5           63.7</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> March               56.4           60.0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> April               57.1           59.3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> May                 59.8           63.9</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> June                79.8           79.6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> July                80.1           80.2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> August              88.8           80.5</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> September           83.1           79.5</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> October             85.3           74.5</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">11</span> November            79.9           66.3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">12</span> December            94.0           56.4</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="wind">Wind<a class="anchor" aria-label="anchor" href="#wind"></a>
</h3>
<p>Wind speed and direction is measured every second and then averaged
and logged every 10 minutes at both weather stations. OrchardMet
measures wind midway up the forest canopy (10 m high) in a small
woodland clearing while WhatelyMet measures wind 25.3 m above the ground
which is above the tree canopy.</p>
<p>OrchardMet is located in a woodland clearing where winds are buffeted
by trees of the forest canopy. Most wind comes from the west and
southwest, with 67% of the time less than 1 m/s. Wind speeds did not
average over 3 m/s at any time of the year.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">orchard_2015</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>wind_dir_bin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor</a></span><span class="op">(</span><span class="va">wind_dir</span> <span class="op">/</span> <span class="fl">31</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">wind_speed</span>, x <span class="op">=</span> <span class="va">wind_dir_bin</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_radial.html" class="external-link">coord_radial</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html" class="external-link">scale_x_discrete</a></span><span class="op">(</span><span class="st">"Wind direction (degrees from North)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span><span class="st">"Wind speed (meters per second)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="macleish_files/figure-html/unnamed-chunk-8-1.png" class="r-plt" width="576"></p>
<p>WhatelyMet is above the forest canopy and recorded winds frequently
from the northwest, north, and south during the year. Average wind
velocities were higher, with 46% of the measurements falling between 1
and 2 m/s, with maximum average velocities up to 6 m/s.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">whately_2015</span> <span class="op">|&gt;</span>  </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>wind_dir_bin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor</a></span><span class="op">(</span><span class="va">wind_dir</span> <span class="op">/</span> <span class="fl">31</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">wind_speed</span>, x <span class="op">=</span> <span class="va">wind_dir_bin</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_radial.html" class="external-link">coord_radial</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html" class="external-link">scale_x_discrete</a></span><span class="op">(</span><span class="st">"Wind direction (degrees from North)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span><span class="st">"Wind speed (meters per second)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="macleish_files/figure-html/unnamed-chunk-9-1.png" class="r-plt" width="576"></p>
</div>
<div class="section level3">
<h3 id="precipitation">Precipitation<a class="anchor" aria-label="anchor" href="#precipitation"></a>
</h3>
<p>A total of 1306 mm of precipitation was recorded at WhatelyMet during
2015.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">whately_2015</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>total_rainfall <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">rainfall</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 1 × 1</span></span></span>
<span><span class="co">##   total_rainfall</span></span>
<span><span class="co">##            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>          <span style="text-decoration: underline;">1</span>306.</span></span></code></pre>
<p>Although precipitation is relatively evenly distributed across the
year, precipitation totals were highest in June and lowest in May.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">monthly_w</span> <span class="op">&lt;-</span> <span class="va">whately_2015</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>the_month <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/month.html" class="external-link">month</a></span><span class="op">(</span><span class="va">when</span>, label <span class="op">=</span> <span class="cn">TRUE</span>, abbr <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">the_month</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>total_precip_w <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">rainfall</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">monthly_o</span> <span class="op">&lt;-</span> <span class="va">orchard_2015</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>the_month <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/month.html" class="external-link">month</a></span><span class="op">(</span><span class="va">when</span>, label <span class="op">=</span> <span class="cn">TRUE</span>, abbr <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">the_month</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>total_precip_o <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">rainfall</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">monthly_w</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">inner_join</a></span><span class="op">(</span><span class="va">monthly_o</span>, by <span class="op">=</span> <span class="st">"the_month"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 12 × 3</span></span></span>
<span><span class="co">##    the_month total_precip_w total_precip_o</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> January            111.           124. </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> February            53.1           71.6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> March               51.8           49.3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> April               67.3           63.5</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> May                 39.1           31.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> June               228.           209. </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> July               146.           125. </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> August             137.           119. </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> September          202.           181. </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> October             79.0           72.9</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">11</span> November            55.9           53.1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">12</span> December           136.           109.</span></span></code></pre>
<p>Since the data was recorded every ten minutes, we need to group the
data daily in order to get the mean rainfall amount per day.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">daily_precip</span> <span class="op">&lt;-</span> <span class="va">whately_2015</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>the_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">when</span>, tz <span class="op">=</span> <span class="st">"EST"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">the_date</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>N <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>, total_precip <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">rainfall</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    cum_precip <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="va">total_precip</span><span class="op">)</span>,</span>
<span>    cum_rescale <span class="op">=</span> <span class="op">(</span><span class="va">cum_precip</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">cum_precip</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">total_precip</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>The following plot will show you how much rainfall you would have per
day at macleish field station over 2015, as well as the cumulative
amount of rainfall over the course of the year.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">daily_precip</span>,</span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">the_date</span>, y <span class="op">=</span> <span class="va">total_precip</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">cum_rescale</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Daily Precipitation (mm)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
<p><img src="macleish_files/figure-html/daily-precip-1.png" class="r-plt" width="576"></p>
<p>February and March had the greatest number of precipitation events.
Annual precipitation accumulated at a low, but fairly steady rate
through June. After June rainfall levels increased and total
accumulation increased sharply to the end of the calendar year. Starting
in June a series of large rainfall events (40-50 mm) occurred regularly
over the summer. The largest precipitation event in 2015 occurred on
September 30th when 113.8 mm (8.7% of the annual total) of precipitation
fell. During 2015, there were 15, 25.4 mm (1”) precipitation events; 2,
50.8 mm (2”) precipitation events; and 1, 76.2 mm (3”) precipitation
event.</p>
</div>
</div>
<div class="section level2">
<h2 id="using-the-macleish-field-station-geographic-data">Using the Macleish Field Station Geographic Data<a class="anchor" aria-label="anchor" href="#using-the-macleish-field-station-geographic-data"></a>
</h2>
<div class="section level3">
<h3 id="maps">Maps<a class="anchor" aria-label="anchor" href="#maps"></a>
</h3>
<p>We can create a map of MacLeish using the <code>leaflet</code>
package and the spatial data in the <code>macleish_layers</code> object.
This is a <code>list</code> of <code>Spatial*DataFrame</code> objects
that contain various pieces of information about the field station,
including the location of buildings, streams, trails, and landmarks.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">macleish_layers</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "landmarks"         "forests"           "streams"          </span></span>
<span><span class="co">##  [4] "challenge_courses" "buildings"         "wetlands"         </span></span>
<span><span class="co">##  [7] "boundary"          "research"          "soil"             </span></span>
<span><span class="co">## [10] "trails"            "camp_sites"        "elevation"</span></span></code></pre>
<p>These layers can be combined to provide a fuller picture of the
activity at the Field Station.</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/leaflet/" class="external-link">leaflet</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/leaflet.html" class="external-link">leaflet</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html" class="external-link">addTiles</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html" class="external-link">addPolygons</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">macleish_layers</span><span class="op">[[</span><span class="st">"boundary"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>    weight <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html" class="external-link">addPolygons</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">macleish_layers</span><span class="op">[[</span><span class="st">"buildings"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>    weight <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html" class="external-link">addMarkers</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">macleish_layers</span><span class="op">[[</span><span class="st">"landmarks"</span><span class="op">]</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Met"</span>, <span class="va">Label</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    popup <span class="op">=</span> <span class="op">~</span><span class="va">Label</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Benjamin S. Baumer, Rose Goueth, Wencong Li, Dominique Kelly, Albert Y. Kim.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
